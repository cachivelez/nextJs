{"version":3,"file":"4.86308f4d9e62f96a44d7.hot-update.js","sources":["webpack:///components/catalogue/index.js"],"sourcesContent":["import Options from './options';\r\nimport Content from './content';\r\n\r\nexport default class extends React.Component{\t\r\n\tconstructor(props) {\r\n\t    super(props)\r\n\t    this.state = { \r\n\t    \titemsPerPage: 15,\t    \t\r\n\t    \tcurrentpagenumber:1,\r\n\t    \tactiveItem: 'Most recent',\r\n\t    \tproducts: this.props.products,\r\n\t    }\r\n\t    this.handleClickPagination = this.handleClickPagination.bind(this);\r\n\t    this.handleClickSort = this.handleClickSort.bind(this);\r\n\t}\r\n\r\n\thandleClickRedeem(arg){\r\n\t\treturn fetch('https://aerolab-challenge.now.sh/redeem', {\r\n\t        method: 'POST',\r\n\t        mode: 'no-cors',\r\n\t        body: JSON.stringify(arg.item._id),\r\n\t        headers: {\r\n\t            'Content-Type': 'application/json'\r\n\t        }\r\n\t    }).then(res => {\r\n\t        return res;\r\n\t    }).catch(err => err);\r\n\t}\r\n\t\r\n\thandleClickSort(arg) {\r\n\t\tconst {products} = this.state\t\r\n\t\tlet productsAux = []\t\r\n\t\tswitch (arg.title) {\r\n\t        case \"Lowest price\": {\r\n\t          \tproductsAux = products.concat().sort((a, b) => a.cost - b.cost)\r\n\t          \tbreak;\r\n\t        }\r\n\t        case \"Highest price\": {\r\n\t        \tproductsAux = products.concat().sort((a, b) => b.cost - a.cost) \r\n\t        \tbreak;\r\n\t        }\r\n\t        default:\r\n\t        \tproductsAux = this.props.products\r\n\t        \tbreak;\r\n\t    }\r\n\t    this.setState({\r\n      \t\tactiveItem: arg.title,\r\n      \t\tproducts: productsAux\r\n      \t}) \r\n    }\r\n\r\n\thandleClickPagination(arg) {\r\n\t\tconst {currentpagenumber} = this.state\t\t\r\n\t\tlet newPage = arg == 'nextPage' ? currentpagenumber + 1 : currentpagenumber - 1\r\n        this.setState({\r\n          currentpagenumber: Number(newPage)\r\n        });\r\n    }\r\n\r\n\trender(){\r\n\t\tconst { products, currentpagenumber, itemsPerPage, activeItem } = this.state\r\n\t\tconst { user } = this.props\r\n\r\n\t\t// paginado\r\n\t\tconst totalProducts = products.length\r\n\t\tconst indexOfLastProducts = currentpagenumber * itemsPerPage;\r\n        const indexOfFirstProducts = indexOfLastProducts - itemsPerPage;\r\n        const currentProducts = products.slice(indexOfFirstProducts, indexOfLastProducts);\r\n\t\tconst lastPage = Math.ceil(totalProducts / itemsPerPage);\r\n\r\n\t    return (\r\n\t        <div className=\"container\">\r\n\t    \t\t<Options \r\n\t    \t\t\teventSort={this.handleClickSort} \r\n\t    \t\t\tactiveItem={activeItem} \r\n\t    \t\t\tsection=\"header\" \r\n\t    \t\t\tactual={currentProducts.length} \r\n\t    \t\t\ttotal={totalProducts} \r\n\t    \t\t\tevent={this.handleClickPagination} \r\n\t    \t\t\tcurrentpagenumber={currentpagenumber} \r\n\t    \t\t\tlastPage={lastPage}\r\n\t    \t\t>\r\n\t    \t\t</Options>\r\n\t        \t<Content \r\n\t        \t\tuser={user}\r\n\t        \t\teventRedeem={this.handleClickRedeem}\r\n\t        \t\tcurrentProducts={currentProducts}\t        \t\t\t\r\n\t        \t>\r\n\t        \t</Content>\r\n\t            <Options \r\n\t    \t\t\tsection=\"footer\" \r\n\t    \t\t\tactual={currentProducts.length} \r\n\t    \t\t\ttotal={totalProducts} \r\n\t    \t\t\tevent={this.handleClickPagination} \r\n\t    \t\t\tcurrentpagenumber={currentpagenumber} \r\n\t    \t\t\tlastPage={lastPage}\r\n\t    \t\t>\r\n\t    \t\t</Options>\r\n\t        </div>\r\n    \t);\t\r\n\t}\t\r\n}\n\n\n// WEBPACK FOOTER //\n// components/catalogue/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AATA;AAUA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAJA;AAQA;AACA;AAAA;AAAA;AACA;;;AAEA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAXA;AACA;AAYA;AACA;AACA;AAFA;AAIA;;;AAEA;AAAA;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAWA;;;;AAjGA;AACA;;;;;A","sourceRoot":""}